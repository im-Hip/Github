<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="demo.css">
    <title>Blog Cá Nhân</title>
</head>
<body>
    <header>
        <h1>Blog Cá Nhân</h1>
    </header>
    <nav>
        <ul>
            <li><a href="#home">Trang Chủ</a></li>
            <li><a href="#about">Giới Thiệu</a></li>
            <li><a href="#contact">Liên Hệ</a></li>
        </ul>
    </nav>
    <div class="search-bar">
        <input type="text" id="search" placeholder="Tìm kiếm bài viết...">
    </div>
    <div class="container" id="post-container">
        <div class="post">
            <h2>Bài Viết Đầu Tiên</h2>
            <p>Ngày đăng: 22/09/2025</p>
            <p>Đây là bài viết đầu tiên trên blog của tôi. Chào mừng bạn đến với không gian chia sẻ kiến thức và trải nghiệm của tôi!</p>
            <button class="like-btn">👍 Thích (<span class="like-count">0</span>)</button>
        </div>
        <div class="post">
            <h2>Hành Trình Học Lập Trình</h2>
            <p>Ngày đăng: 20/09/2025</p>
            <p>Tôi đã bắt đầu học lập trình từ đầu năm nay, và đây là những gì tôi đã học được...</p>
            <button class="like-btn">👍 Thích (<span class="like-count">0</span>)</button>
        </div>
        <div class="comment-section">
            <h3>Bình Luận</h3>
            <form id="comment-form" class="comment-form">
                <input type="text" id="comment-name" placeholder="Tên của bạn" required>
                <textarea id="comment-text" placeholder="Viết bình luận..." required></textarea>
                <button type="submit">Gửi Bình Luận</button>
            </form>
            <div id="comments-list"></div>
        </div>
    </div>
    <footer>
        <p>&copy; 2025 Blog Cá Nhân. All rights reserved.</p>
    </footer>
    <script>
        // Like button
        document.querySelectorAll(".like-btn").forEach((btn) => {
            btn.addEventListener("click", function() {
                const countSpan = this.querySelector(".like-count");
                let count = parseInt(countSpan.textContent);
                count++;
                countSpan.textContent = count;
            });
        });

        // Comment system with LocalStorage
        const commentForm = document.getElementById('comment-form');
        const commentsList = document.getElementById('comments-list');

        // Load saved comments
        window.onload = function() {
            const savedComments = JSON.parse(localStorage.getItem('comments')) || [];
            savedComments.forEach(c => {
                addComment(c.name, c.text, c.date, false);
            });
        };

        commentForm.addEventListener('submit', function(event) {
            event.preventDefault();
            const name = document.getElementById('comment-name').value;
            const text = document.getElementById('comment-text').value;
            const date = new Date().toLocaleString();
            addComment(name, text, date, true);
            commentForm.reset();
        });

        function addComment(name, text, date, save) {
            const commentDiv = document.createElement('div');
            commentDiv.classList.add('comment');
            commentDiv.innerHTML = `<strong>${name}</strong>: ${text} <br><small>${date}</small>`;
            commentsList.prepend(commentDiv);

            if (save) {
                const savedComments = JSON.parse(localStorage.getItem('comments')) || [];
                savedComments.unshift({ name, text, date });
                localStorage.setItem('comments', JSON.stringify(savedComments));
            }
        }

        // Search filter
        document.getElementById('search').addEventListener('input', function() {
            const keyword = this.value.toLowerCase();
            const posts = document.querySelectorAll('.post');
            posts.forEach(post => {
                const text = post.textContent.toLowerCase();
                post.style.display = text.includes(keyword) ? 'block' : 'none';
            });
        });
    </script>
</body>
</html>
